\* Configuration file for DeadlockAnalysis.tla
\* TLA-003: Deadlock Freedom Verification
\*
\* This configuration defines a small model for tractable verification.
\* The model captures the essential deadlock scenarios with minimal state space.
\*
\* Author: Worker #2348
\* Date: 2026-01-03

\* Model constants are defined in DeadlockAnalysisMC.tla (instantiation of DeadlockAnalysis.tla).

\* ============================================================================
\* SPECIFICATION
\* ============================================================================

SPECIFICATION Spec

\* ============================================================================
\* INVARIANTS - Safety Properties
\* ============================================================================

\* Primary safety invariant (combines all safety checks)
INVARIANT Safety

\* Critical: No deadlock in running state
INVARIANT NoDeadlock

\* Semaphore bounds
INVARIANT SemaphoreNonNegative
INVARIANT SemaphoreBounded

\* Parallel execution bounds
INVARIANT ParallelConcurrencyBounded
INVARIANT ParallelStatesMutuallyExclusive

\* ============================================================================
\* PROPERTIES - Liveness (Termination)
\* ============================================================================

\* Primary liveness: execution always terminates
PROPERTY EventuallyTerminates

\* No livelock (running always leads to not running)
PROPERTY NoLivelock

\* Bounded termination (either terminates or times out)
PROPERTY BoundedTermination

\* Semaphore liveness (permits always released)
PROPERTY SemaphoreEventuallyReleased

\* Parallel completion (parallel execution always completes)
PROPERTY ParallelEventuallyComplete

\* ============================================================================
\* CONSTRAINTS (reduce state space for tractable checking)
\* ============================================================================

\* Keep checking tractable (see DeadlockAnalysis.tla:StateConstraint)
CONSTRAINT StateConstraint

\* Termination/error states intentionally have no Next step.
CHECK_DEADLOCK FALSE

\* ============================================================================
\* ACTION CONSTRAINTS (optional - for debugging)
\* ============================================================================

\* Uncomment to trace specific actions:
\* ACTION_CONSTRAINT
\*     /\ TLCGet("level") < 50

\* ============================================================================
\* VIEW (state space reduction)
\* ============================================================================

\* Reduce state space by focusing on key variables
\* Uncomment if state space is too large:
\* VIEW <<status, currentNodes, parallelActive, semaphorePermits>>

\* ============================================================================
\* ALIAS (for better trace output)
\* ============================================================================

\* ALIAS
\*     execution_status |-> status
\*     current |-> currentNodes
\*     iteration |-> iterationCount
\*     time |-> elapsedTime
\*     parallel |-> <<parallelPending, parallelActive, parallelCompleted>>
\*     semaphore |-> semaphorePermits
