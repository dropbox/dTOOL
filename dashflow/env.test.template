# DashFlow Test Environment Variables Template
# =============================================
# Copy this file to .env and fill in required values for running integration tests.
#
# Usage:
#   cp .env.test .env
#   source .env
#   cargo test --ignored  # Run integration tests
#
# For testcontainers tests (PostgreSQL, Redis, Cassandra), set DOCKER_HOST:
#   # macOS with Colima:
#   export DOCKER_HOST=unix:///Users/$USER/.colima/default/docker.sock
#   # Linux/standard Docker:
#   export DOCKER_HOST=unix:///var/run/docker.sock

# =============================================================================
# LLM Provider API Keys (Required for LLM tests)
# =============================================================================

# OpenAI - Required for most E2E tests
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Anthropic - For Claude model tests
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Azure OpenAI - For Azure-hosted model tests
AZURE_OPENAI_API_KEY=your_azure_openai_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Google AI - For Gemini model tests
GOOGLE_API_KEY=your_google_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here

# Mistral AI
MISTRAL_API_KEY=your_mistral_api_key_here

# Together AI
TOGETHER_API_KEY=your_together_api_key_here

# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_BASE=https://api.deepseek.com

# Fireworks AI
FIREWORKS_API_KEY=your_fireworks_api_key_here

# Cohere
COHERE_API_KEY=your_cohere_api_key_here

# Replicate
REPLICATE_API_TOKEN=your_replicate_token_here

# HuggingFace
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
HUGGINGFACEHUB_API_TOKEN=your_huggingface_token_here
HF_TOKEN=your_huggingface_token_here

# Perplexity
PPLX_API_KEY=your_perplexity_api_key_here
PPLX_API_BASE=https://api.perplexity.ai

# Ollama (local)
OLLAMA_HOST=http://localhost:11434

# Cloudflare Workers AI
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token

# =============================================================================
# Embedding Provider Keys
# =============================================================================

# Voyage AI
VOYAGE_API_KEY=your_voyage_api_key_here

# Jina AI
JINA_API_KEY=your_jina_api_key_here

# Nomic AI
NOMIC_API_KEY=your_nomic_api_key_here

# =============================================================================
# Database Connection Strings
# =============================================================================

# PostgreSQL (for checkpointer and vector store tests)
POSTGRES_CONNECTION_STRING=host=localhost port=5432 user=postgres password=postgres dbname=dashflow

# Redis (for checkpointer, caching, and memory tests)
REDIS_URL=redis://localhost:6379
REDIS_CONNECTION_STRING=redis://localhost:6379

# MongoDB (for document loader and memory tests)
MONGODB_CONNECTION_STRING=mongodb://localhost:27017

# Supabase
SUPABASE_CONNECTION_STRING=postgresql://postgres:postgres@localhost:54322/postgres
SUPABASE_PASSWORD=your_supabase_password

# Elasticsearch
ELASTICSEARCH_URL=http://localhost:9200

# =============================================================================
# Vector Database Connections
# =============================================================================

# Pinecone
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_HOST=your-index.svc.pinecone.io

# Qdrant
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=test_collection

# Milvus
MILVUS_URL=http://localhost:19530

# =============================================================================
# Search API Keys
# =============================================================================

# Tavily Search
TAVILY_API_KEY=your_tavily_api_key_here

# Serper (Google Search API)
SERPER_API_KEY=your_serper_api_key_here

# Brave Search
BRAVE_API_KEY=your_brave_api_key_here

# Exa AI
EXA_API_KEY=your_exa_api_key_here

# Bing Search
BING_SUBSCRIPTION_KEY=your_bing_key_here

# Google Custom Search
GOOGLE_CSE_ID=your_google_cse_id

# =============================================================================
# Other Service Integrations
# =============================================================================

# GitHub
GITHUB_TOKEN=your_github_token_here

# GitLab
GITLAB_URL=https://gitlab.com
GITLAB_TOKEN=your_gitlab_token_here
GITLAB_PROJECT=your_project_id

# Jira
JIRA_BASE_URL=https://your-domain.atlassian.net
JIRA_EMAIL=your_email@example.com
JIRA_API_TOKEN=your_jira_api_token

# ClickUp
CLICKUP_ACCESS_TOKEN=your_clickup_token_here

# Slack
SLACK_BOT_TOKEN=your_slack_bot_token

# YouTube
YOUTUBE_API_KEY=your_youtube_api_key_here

# OpenWeatherMap
OPENWEATHERMAP_API_KEY=your_openweathermap_key

# Wolfram Alpha
WOLFRAM_APP_ID=your_wolfram_app_id

# =============================================================================
# LangSmith / LangChain Tracing
# =============================================================================

LANGSMITH_API_KEY=your_langsmith_api_key_here
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_PROJECT=dashflow-tests

LANGCHAIN_API_KEY=your_langchain_api_key_here
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_PROJECT=dashflow-tests

# =============================================================================
# AWS (for DynamoDB, S3 checkpointers)
# =============================================================================

AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_DEFAULT_REGION=us-east-1

# =============================================================================
# Kafka / Streaming
# =============================================================================

KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_BROKERS=localhost:9092
KAFKA_TOPIC=dashflow-events
KAFKA_GROUP=dashflow-test-group
KAFKA_AUTO_OFFSET_RESET=earliest
DASHSTREAM_TOPIC=dashflow-stream

# =============================================================================
# Upstash Redis (serverless Redis)
# =============================================================================

UPSTASH_REDIS_REST_URL=https://your-endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token

# =============================================================================
# Observability / Monitoring
# =============================================================================

OTEL_SERVICE_NAME=dashflow-test
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SAMPLING_RATE=1.0

GRAFANA_URL=http://localhost:3000
GRAFANA_USER=admin
GRAFANA_PASS=admin

METRICS_PORT=9090
HEALTH_PORT=8081

# =============================================================================
# DashFlow Internal Settings
# =============================================================================

# Self-improvement system
DASHFLOW_SELF_IMPROVE_INTERVAL=300
DASHFLOW_SELF_IMPROVE_MIN_TRACES=10
DASHFLOW_SELF_IMPROVE_SLOW_THRESHOLD_MS=1000
DASHFLOW_SELF_IMPROVE_ERROR_THRESHOLD=0.1
DASHFLOW_SELF_IMPROVE_RETRY_THRESHOLD=3
DASHFLOW_SELF_IMPROVE_METRICS_SOURCE=prometheus
DASHFLOW_SELF_IMPROVE_PROMETHEUS_URL=http://localhost:9090

# Health check settings
DASHFLOW_HEALTH_CHECK_STORAGE=true
DASHFLOW_HEALTH_CHECK_TRACES=true
DASHFLOW_HEALTH_CHECK_CACHE=true
DASHFLOW_HEALTH_STORAGE_PATH=.dashflow/storage
DASHFLOW_HEALTH_TRACES_PATH=.dashflow/traces
DASHFLOW_HEALTH_MAX_STORAGE_MB=100
DASHFLOW_HEALTH_MAX_TRACES=1000

# Storage settings
STORAGE_PATH=.dashflow
DASHFLOW_STORAGE_RETENTION=30d
DASHFLOW_TRACE_RETENTION=7d

# Registry settings
DASHFLOW_REGISTRY_URL=https://registry.dashflow.ai
DASHFLOW_REGISTRY_API_KEY=your_registry_key
DASHFLOW_NETWORK_ENABLED=false
DASHFLOW_LIVE_INTROSPECTION=false

# Worker settings (for distributed testing)
DASHFLOW_WORKER_ID=test-worker
DASHFLOW_WORKER_MODE=standalone

# Caching
CACHE_MAX_ENTRIES=1000
CACHE_API_KEY_TTL_SECS=300
CACHE_RESOLUTION_TTL_SECS=60
CACHE_METADATA_TTL_SECS=300
CACHE_SEARCH_TTL_SECS=60
CACHE_TRACK_STATS=true

# Rate limiting
RATE_LIMIT_RPM=60

# WebSocket settings
WEBSOCKET_HOST=127.0.0.1
WEBSOCKET_PORT=8080
WEBSOCKET_BUFFER_SIZE=65536

# JWT for authentication tests
JWT_SECRET=your_test_jwt_secret_here

# CORS settings
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000

# CDN
CDN_ENABLED=false

# Database URL (generic)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/dashflow

# Redis timeouts
REDIS_CONNECT_TIMEOUT_SECS=5
REDIS_OPERATION_TIMEOUT_SECS=30
REDIS_PREFIX=dashflow:test:

# Embedding dimension (for vector store tests)
EMBEDDING_DIMENSION=1536
