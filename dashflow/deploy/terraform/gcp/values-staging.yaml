# DashFlow Helm values for GCP staging environment

global:
  environment: staging
  gcpProject: ${gcp_project}
  gcpRegion: ${gcp_region}

websocketServer:
  enabled: true
  replicaCount: 2
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

qualityMonitor:
  enabled: true
  replicaCount: 2
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

prometheusExporter:
  enabled: true
  replicaCount: 2

redis:
  enabled: false
  external:
    enabled: true
    host: ${redis_host}
    port: 6379

postgresql:
  enabled: false
  external:
    enabled: true
    host: ${postgres_host}
    port: 5432
    database: dashflow

observability:
  prometheus:
    enabled: true
  grafana:
    enabled: true

ingress:
  enabled: true
  className: gce
  annotations:
    kubernetes.io/ingress.class: gce

securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

podDisruptionBudget:
  enabled: true
  minAvailable: 1
